<nav class="navbar navbar-default">
  <div class="container-fluid">
    <div class="navbar-header">
      <a class="navbar-brand" href="/"><span><img class="globe-logo" src="https://raw.githubusercontent.com/tgoldenberg/Speakit-Static/master/app/assets/images/globe-logo.png"/></span>SpeakIt</a>
    </div>
    <ul class="nav navbar-nav navbar-right">
      <li></li>
      <% if logged_in? %>
        <button type="button" class="btn btn-default btn-lg notifications">
          <span class="glyphicon glyphicon-earphone" aria-hidden="true"></span>
        </button>
        <button type="button" class="btn btn-default btn-lg missed">
          <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
        </button>
        <li id='logout'> <%= link_to 'Logout', logout_path, method: 'delete' %> </li>
      <% end %>
    </ul>
  </div>
</nav>
<% if logged_in? %>
  <div>
    <ul id="notification-list" style="display: none">
      <!-- <p> <%= @active_invitations %></p> -->
      <% @active_invitations.each do |invitation| %>
        <%= react_component("IncomingCall", {invitation: invitation, username: invitation.sender.username, avatar_url: invitation.sender.avatar_url}.to_json, class: 'incoming-call-wrapper') %>
      <% end %>
    </ul>
  </div>
  <div>
    <ul id="missed-call-list" style="display: none">
      <% @missed_calls.each do |invitation| %>
        <li>
          <p>Missed call from <%= invitation.sender.username %> about <%= time_ago_in_words(invitation.created_at) %></p>
        </li>
      <% end %>
    </ul>
  </div>
<% end %>
